@model CGI.Reflex.Web.Areas.Applications.Models.Applications.ApplicationsIndex

<section id="results">
    <div class="row">
        <div class="span12">
            @if (Model.HasResults)
            {                
                @Html.Pager("#results")

                <table class="table table-striped table-condensed">
                    <thead>
                        <tr>
                            <th>@Html.OrderLink("Code", "Code")</th>
                            <th>@Html.OrderLink("Nom", "Name")</th>
                            <th>@Html.OrderLink("Type", "ApplicationType.Name")</th>
                            <th>@Html.OrderLink("Statut", "Status.Name")</th>
                            <th>@Html.OrderLink("Criticité", "Criticity.Name")</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var application in Model.SearchResults.Items)
                        {
                            <tr>
                                <td class="span2">@application.Code</td>
                                <td class="span3">@Html.ActionLink(application.Name, "Details", "Info", new { appId = application.Id }, new { data_link_bubble = "tr" })</td>
                                <td class="span3">
                                    @if (application.ApplicationType != null)
                                    {
                                        @application.ApplicationType.Name
                                    }
                                </td>
                                <td class="span3">
                                    @if (application.AppInfo.Status != null)
                                    {
                                        @application.AppInfo.Status.Name
                                    }
                                </td>
                                <td class="span1">
                                    @if (application.AppInfo.Criticity != null)
                                    {
                                        @application.AppInfo.Criticity.Name
                                    }
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
                
                @Html.Pager("#results")
            }
            else
            {
                <blockquote>
                    <p>
                        Aucun résultat trouvé.</p>
                </blockquote>
            }
        </div>
    </div>
</section>